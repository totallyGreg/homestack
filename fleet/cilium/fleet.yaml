# This file and all contents in it are OPTIONAL.

# The namespace this chart will be installed and restricted to,
# if not specified the chart will be installed to "default"
namespace: cilium

# Custom helm options
helm:
  # The release name to use. If empty a generated release name will be used
  releaseName: cilium

  # The directory of the chart in the repo.  Also any valid go-getter supported
  # URL can be used there is specify where to download the chart from.
  # If repo below is set this value if the chart name in the repo
  chart: 'cilium'

  # An https to a valid Helm repository to download the chart from
  repo: 'https://helm.cilium.io/'

  # Used if repo is set to look up the version of the chart
  version: '1.17.1'

  # Force recreate resource that can not be updated
  force: false

  # How long for helm to wait for the release to be active. If the value
  # is less that or equal to zero, we will not wait in Helm
  timeoutSeconds: 0

  # Custom values that will be passed as values.yaml to the installation
  values:
    # Base Cilium install
    'operator.replicas': 1
    'ipam.operator.clusterPoolIPv4PodCIDRList': '10.42.0.0/16'
    # no kube proxy
    'kubeProxyReplacement': 'true'
    'k8sServiceHost': 'localhost'
    'k8sServicePort': 6443

    # l2 Annoucement
    'l2announcements.enabled': 'true'
    'k8sClientRateLimit.qps': 10
    'k8sClientRateLimit.burst': 20
    # observability
    'hubble.enabled': 'true'
    'hubble.metrics.enabled': '{dns,drop,tcp,flow,icmp,http}'
    'hubble.relay.enabled': 'true'
    'hubble.ui.enabled': 'true'
    'prometheus.enabled': 'true'
    'operator.prometheus.enabled': 'true'

    # gatewayAPI
    'gatewayAPI.enabled': 'true'
    'hostServices.enabled': 'false'
    'externalIPs.enabled': 'true'
    'hostPort.enabled': 'true'
    'bpf.masquerade': 'false'
    'image.pullPolicy': 'IfNotPresent'
    'ipam.mode': 'kubernetes'
